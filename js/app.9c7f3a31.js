(function(t){function e(e){for(var n,i,c=e[0],s=e[1],d=e[2],u=0,h=[];u<c.length;u++)i=c[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&h.push(o[i][0]),o[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);l&&l(e);while(h.length)h.shift()();return r.push.apply(r,d||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,c=1;c<a.length;c++){var s=a[c];0!==o[s]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},o={app:0},r=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var l=s;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"034f":function(t,e,a){"use strict";var n=a("85ec"),o=a.n(n);o.a},"2dda":function(t,e,a){"use strict";var n=a("cf6d"),o=a.n(n);o.a},"32d1":function(t,e,a){t.exports=a.p+"img/world.604d3391.svg"},"85ec":function(t,e,a){},b394:function(t,e,a){},c4b3:function(t,e,a){"use strict";var n=a("b394"),o=a.n(n);o.a},cd49:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{attrs:{id:"widget"}},[a("transition",{on:{enter:t.err_enter,leave:t.err_leave}},[t.error?a("div",{staticClass:"error"},[t._v("Error: "+t._s(t.error))]):t._e()]),a("div",{attrs:{id:"disp"}},[a("div",{attrs:{id:"date"}},[t._v(t._s(t.date.toLocaleString("en-US")))]),a("Map",{attrs:{coords:t.coords},on:{mapEvt:t.getMapLocation}}),a("WeatherWidget",{directives:[{name:"show",rawName:"v-show",value:t.weatherData.hasOwnProperty("main"),expression:"weatherData.hasOwnProperty('main')"}],attrs:{id:"ww",data:t.weatherData}})],1),t.weatherData.hasOwnProperty("main")?a("a",{attrs:{href:"#",id:"curLoc"},on:{click:t.reset}},[t._v("️"),a("span",[t._v("back")])]):a("a",{attrs:{href:"#",id:"curLoc"},on:{click:t.getBrowserLocation}},[a("span",[t._v("☂ Check weather wear where you are")])]),a("form",{attrs:{id:"locinput"},on:{submit:function(e){return e.preventDefault(),t.getData("q="+t.location)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.location,expression:"location"}],attrs:{placeholder:"Check weather wear somewhere there (London, UK or 03063)",type:"search"},domProps:{value:t.location},on:{input:function(e){e.target.composing||(t.location=e.target.value)}}})])],1)])},r=[],i=a("d4ec"),c=a("bee2"),s=a("99de"),d=a("7e84"),l=a("262e"),u=a("9ab4"),h=a("60a3"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"widget"}},[t.data.main?a("div",{staticStyle:{padding:"10px"}},[a("div",{attrs:{id:"nameContainer"}},[a("h2",[t._v(t._s(t.data.name||t.data.coord.lat)+", "+t._s(t.data.sys.country||t.data.coord.lon))])]),t.data.main?a("div",{staticClass:"temp",on:{click:function(e){return t.convert()}}},[a("span",{attrs:{id:"num"}},[t._v(t._s(Math.round(t.temp))+"°")]),a("span",[t._v(t._s(t.metric))]),a("img",{attrs:{src:"https://www.openweathermap.org/img/wn/"+t.data.weather[0].icon+".png"}})]):t._e(),a("div",{staticClass:"inner"},[a("div",[a("strong",[t._v("Condition")]),a("span",[t._v(t._s(t.data.weather[0].description))])]),a("div",[a("strong",[t._v("Wind")]),a("span",[t._v(t._s(t.data.wind.speed)+" mph")])]),a("div",[a("strong",[t._v("Pressure")]),a("span",[t._v(t._s(t.data.main.pressure)+" hPa")])]),a("div",[a("strong",[t._v("Humidity")]),a("span",[t._v(t._s(t.data.main.humidity)+"%")])])]),a("div",{staticClass:"inner"},[t._v("Wear something.")])]):t._e()])},v=[],f=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(s["a"])(this,Object(d["a"])(e).apply(this,arguments)),t.metric="F",t.temp=0,t}return Object(l["a"])(e,t),Object(c["a"])(e,[{key:"ondataChange",value:function(t){t.main&&(this.temp=t.main.temp,"C"==this.metric&&this.convert())}},{key:"convert",value:function(){var t=this.data.main.temp;"F"==this.metric?(this.metric="C",this.temp=5/9*(t-32)):(this.metric="F",this.temp=t)}}]),e}(h["c"]);u["a"]([Object(h["b"])()],f.prototype,"data",void 0),u["a"]([Object(h["d"])("data",{deep:!0,immediate:!0})],f.prototype,"ondataChange",null),f=u["a"]([h["a"]],f);var m=f,w=m,y=(a("c4b3"),a("2877")),g=Object(y["a"])(w,p,v,!1,null,"f991ba36",null),b=g.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"map"}},[a("canvas",{ref:"canvas"}),a("div",{attrs:{id:"latlon"}},[a("span",[a("strong",[t._v("Lat")]),t._v(" "+t._s(t.lat))]),a("span",[a("strong",[t._v("Lon")]),t._v(" "+t._s(t.lon))])]),t._m(0)])},O=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"worldMap"}},[n("img",{attrs:{src:a("32d1"),width:"500",alt:""}})])}],j=(a("a9e3"),a("b680"),a("cffa")),x=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(s["a"])(this,Object(d["a"])(e).apply(this,arguments)),t.lat=0,t.lon=0,t}return Object(l["a"])(e,t),Object(c["a"])(e,[{key:"onCoordChange",value:function(t){var e=this;this.lat=Number(t.lat.toFixed(2)),this.lon=Number(t.lon.toFixed(2)),this.$nextTick((function(){var t=e.can.width/2+e.lon*(360/e.can.width)*2,a=e.can.height/2-e.lat*(180/e.can.height)*2;j["a"].to(e,.4,{x:t,y:a})}))}},{key:"mounted",value:function(){var t=this;j["a"].ticker.add(this.draw),this.can=this.$refs.canvas,this.can.width=this.$el.clientWidth,this.can.height=this.$el.clientHeight,this.ctx=this.can.getContext("2d"),this.x=this.can.width/2,this.y=this.can.height/2,this.draw(),this.can.addEventListener("pointerup",(function(e){t.$emit("mapEvt",{lat:t.lat,lon:t.lon}),t.can.style.cursor="default"})),this.can.addEventListener("pointerdown",(function(e){var a=e.offsetX,n=e.offsetY;t.x=a-t.can.width*Math.floor(a/t.can.width),t.y=n-t.can.height*Math.floor(n/t.can.height);var o=(t.x-t.can.width/2)/t.can.width*2*180,r=(t.y-t.can.height/2)/t.can.height*2*90*-1;t.lon=Number(o.toFixed(2)),t.lat=Number(r.toFixed(2)),t.draw()})),this.can.addEventListener("pointermove",(function(e){e.preventDefault();var a=e.offsetX,n=e.offsetY;if(e.pressure){t.can.setPointerCapture(e.pointerId),t.can.style.cursor="none",t.x=a-t.can.width*Math.floor(a/t.can.width),t.y=n-t.can.height*Math.floor(n/t.can.height);var o=(t.x-t.can.width/2)/t.can.width*2*180,r=(t.y-t.can.height/2)/t.can.height*2*90*-1;t.lon=Number(o.toFixed(2)),t.lat=Number(r.toFixed(2)),t.draw()}}))}},{key:"draw",value:function(){this.ctx.fillStyle="#F00",this.ctx.clearRect(0,0,this.can.width,this.can.height),this.ctx.fillRect(this.x,0,1,this.can.height),this.ctx.fillRect(0,this.y,this.can.width,1)}}]),e}(h["c"]);u["a"]([Object(h["b"])()],x.prototype,"data",void 0),u["a"]([Object(h["b"])()],x.prototype,"coords",void 0),u["a"]([Object(h["d"])("coords",{deep:!0,immediate:!0})],x.prototype,"onCoordChange",null),x=u["a"]([h["a"]],x);var k=x,C=k,L=(a("2dda"),Object(y["a"])(C,_,O,!1,null,"4a43c86e",null)),D=L.exports,P=a("bc3a"),M=a.n(P),E=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(s["a"])(this,Object(d["a"])(e).apply(this,arguments)),t.date=new Date,t.location="",t.coords={lat:0,lon:0},t.weatherData={},t.appID="3271837e9218269f1e7f49308577ec1c",t.error="",t}return Object(l["a"])(e,t),Object(c["a"])(e,[{key:"mounted",value:function(){var t=this;setInterval((function(){t.date=new Date}),1e3)}},{key:"reset",value:function(){var t=this;j["a"].to("#ww",.5,{opacity:0,onComplete:function(){t.weatherData={},t.location=""}}),j["a"].to("#curLoc span",.3,{opacity:0,onComplete:function(){j["a"].to("#curLoc span",.4,{opacity:1,delay:.2})}}),j["a"].to("#map",.3,{autoAlpha:1,display:"block"}),j["a"].to("#map canvas",.2,{opacity:1,delay:.5}),j["a"].to("#date",.3,{autoAlpha:1,display:"block",delay:.3}),j["a"].to("#widget",.5,{height:250}),j["a"].to("#locinput",1,{autoAlpha:1,display:"block"})}},{key:"getBrowserLocation",value:function(){var t=this;navigator.geolocation.getCurrentPosition((function(e){t.getData("lat="+e.coords.latitude+"&lon="+e.coords.longitude)}))}},{key:"getMapLocation",value:function(t){this.getData("lat="+t.lat+"&lon="+t.lon)}},{key:"err_enter",value:function(t){var e=this;j["a"].from(t,.3,{opacity:0,onComplete:function(){t.innerHTML="Error: ".concat(e.error),setTimeout((function(){e.error="",t.innerHTML=""}),1e3)}})}},{key:"err_leave",value:function(t,e){j["a"].to(t,{opacity:0,onComplete:e})}},{key:"getData",value:function(t){var e=this,a="https://api.openweathermap.org/data/2.5/weather?"+t+"&APPID="+this.appID+"&units=imperial";M.a.get(a).then((function(t){e.coords=t.data.coord,j["a"].to("#curLoc span",.3,{opacity:0,onComplete:function(){e.weatherData=t.data,j["a"].to("#curLoc span",.3,{opacity:1,delay:.3}),j["a"].to("#map",.3,{autoAlpha:0}),j["a"].to("#date",.3,{autoAlpha:0}),j["a"].to("#map canvas",.1,{opacity:0}),j["a"].to("#locinput",.5,{autoAlpha:0}),j["a"].to("#widget",.5,{height:190}),j["a"].fromTo("#ww",{opacity:0},{opacity:1})}})})).catch((function(t){e.error=t.response.data.message}))}}]),e}(h["c"]);E=u["a"]([Object(h["a"])({components:{WeatherWidget:b,Map:D}})],E);var F=E,$=F,S=(a("034f"),Object(y["a"])($,o,r,!1,null,null,null)),N=S.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(N)}}).$mount("#app")},cf6d:function(t,e,a){}});
//# sourceMappingURL=app.9c7f3a31.js.map