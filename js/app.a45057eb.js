(function(t){function a(a){for(var n,r,c=a[0],s=a[1],l=a[2],u=0,h=[];u<c.length;u++)r=c[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&h.push(o[r][0]),o[r]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);d&&d(a);while(h.length)h.shift()();return i.push.apply(i,l||[]),e()}function e(){for(var t,a=0;a<i.length;a++){for(var e=i[a],n=!0,c=1;c<e.length;c++){var s=e[c];0!==o[s]&&(n=!1)}n&&(i.splice(a--,1),t=r(r.s=e[0]))}return t}var n={},o={app:0},i=[];function r(a){if(n[a])return n[a].exports;var e=n[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=n,r.d=function(t,a,e){r.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,a){if(1&a&&(t=r(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var n in t)r.d(e,n,function(a){return t[a]}.bind(null,n));return e},r.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(a,"a",a),a},r.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},r.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=a,c=c.slice();for(var l=0;l<c.length;l++)a(c[l]);var d=s;i.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("cd49")},"034f":function(t,a,e){"use strict";var n=e("85ec"),o=e.n(n);o.a},"0809":function(t,a,e){},"2f6a":function(t,a,e){},"32d1":function(t,a,e){t.exports=e.p+"img/world.604d3391.svg"},"85ec":function(t,a,e){},"9d34":function(t,a,e){"use strict";var n=e("0809"),o=e.n(n);o.a},b47b:function(t,a,e){"use strict";var n=e("d023"),o=e.n(n);o.a},cd49:function(t,a,e){"use strict";e.r(a);e("e260"),e("e6cf"),e("cca6"),e("a79d");var n=e("2b0e"),o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("div",{attrs:{id:"widget"}},[e("transition",{on:{enter:t.err_enter,leave:t.err_leave}},[t.error?e("div",{staticClass:"error"},[t._v("Error: "+t._s(t.error))]):t._e()]),e("div",{attrs:{id:"disp"}},[e("div",{attrs:{id:"date"}},[t._v(t._s(t.date.toLocaleString("en-US")))]),e("Map",{attrs:{coords:t.coords,locked:t.locked},on:{latCh:t.latEvt,lonCh:t.lonEvt,mapEvt:t.getMapLocation,mdEvt:t.pullTime}}),e("WeatherWidget",{directives:[{name:"show",rawName:"v-show",value:t.weatherData.hasOwnProperty("main"),expression:"weatherData.hasOwnProperty('main')"}],attrs:{id:"ww",data:t.weatherData}})],1),t.weatherData.hasOwnProperty("main")?e("a",{attrs:{id:"curLoc"},on:{click:t.reset}},[t._v("️"),e("span",[t._v("back")])]):e("a",{attrs:{id:"curLoc"},on:{click:t.getBrowserLocation}},[t.lat&&t.lon?e("div",{attrs:{id:"latlonStat"}},[e("span",[t._v("Lat: "+t._s(t.lat))]),e("span",[t._v("Lon: "+t._s(t.lon))])]):e("span",[t._v("☂ Check weather wear where you are")])]),e("form",{attrs:{id:"locinput"},on:{submit:function(a){return a.preventDefault(),t.getData("q="+t.location)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.location,expression:"location"}],attrs:{placeholder:"Check weather wear somewhere there (London, UK or 03063)",type:"search"},domProps:{value:t.location},on:{input:function(a){a.target.composing||(t.location=a.target.value)}}})])],1)])},i=[],r=e("d4ec"),c=e("bee2"),s=e("99de"),l=e("7e84"),d=e("262e"),u=e("9ab4"),h=e("60a3"),p=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"widget"}},[t.data.main?e("div",{staticStyle:{padding:"10px"}},[e("div",{attrs:{id:"nameContainer"}},[e("a",{attrs:{href:t.wLink[0]+t.wLink[1],target:"_blank"}},[e("h2",[t._v(t._s(t.data.name||t.data.coord.lat)+", "+t._s(t.data.sys.country||t.data.coord.lon))])])]),t.data.main?e("div",{staticClass:"temp",on:{click:function(a){return t.convert()}}},[e("span",{attrs:{id:"num"}},[t._v(t._s(Math.round(t.temp))+"°")]),e("span",[t._v(t._s(t.metric))]),e("img",{attrs:{src:"https://www.openweathermap.org/img/wn/"+t.data.weather[0].icon+".png"}})]):t._e(),e("div",{attrs:{id:"info"}},[t.data.name?e("div",[e("span",[t._v("(Lat: "+t._s(t.data.coord.lat)+", ")]),e("span",[t._v("Lon: "+t._s(t.data.coord.lon)+")")])]):t._e()]),e("div",{staticClass:"inner"},[e("div",[e("strong",[t._v("Condition")]),e("span",[t._v(t._s(t.data.weather[0].description))])]),e("div",[e("strong",[t._v("Wind")]),e("span",[t._v(t._s(t.data.wind.speed)+" mph")])]),e("div",[e("strong",[t._v("Pressure")]),e("span",[t._v(t._s(t.data.main.pressure)+" hPa")])]),e("div",[e("strong",[t._v("Humidity")]),e("span",[t._v(t._s(t.data.main.humidity)+"%")])])]),t._m(0)]):t._e()])},v=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"inner",staticStyle:{"padding-top":"10px"}},[e("div",{staticStyle:{"padding-bottom":"3px"}},[t._v("You should wear")]),e("div",{staticStyle:{"padding-top":"30px"}},[t._v("something")])])}],f=(e("b0c0"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"forecast"}},[t.cur.hasOwnProperty("main")?e("div",[e("img",{attrs:{src:"https://www.openweathermap.org/img/wn/"+t.cur.weather[0].icon+".png"}}),t._v(" "+t._s(t.cur.main.temp)+" ")]):t._e()])}),m=[],g=e("bc3a"),y=e.n(g),w=function(t){function a(){var t;return Object(r["a"])(this,a),t=Object(s["a"])(this,Object(l["a"])(a).apply(this,arguments)),t.url="https://api.openweathermap.org/data/2.5/forecast?",t.appID="3271837e9218269f1e7f49308577ec1c",t.data={},t.cur={},t.err="",t}return Object(d["a"])(a,t),Object(c["a"])(a,[{key:"mounted",value:function(){var t=this;this.cid?this.url+="id="+this.cid+"&APPID="+this.appID:this.url+="lat="+this.coord.lat+"&lon="+this.coord.lon+"&APPID="+this.appID+"&units=imperial",y.a.get(this.url).then((function(a){t.data=a.data,t.cur=a.data.list[0]})).catch((function(a){t.err=a}))}}]),a}(h["c"]);u["a"]([Object(h["b"])()],w.prototype,"cid",void 0),u["a"]([Object(h["b"])()],w.prototype,"coord",void 0),w=u["a"]([h["a"]],w);var b=w,_=b,k=(e("b47b"),e("2877")),O=Object(k["a"])(_,f,m,!1,null,"6aaa19e5",null),j=O.exports,x=function(t){function a(){var t;return Object(r["a"])(this,a),t=Object(s["a"])(this,Object(l["a"])(a).apply(this,arguments)),t.metric="F",t.temp=0,t.wLink=["https://openweathermap.org/city/"],t.gLink=["https://www.google.com/search?q="],t.date=(new Date).toLocaleString(),t}return Object(d["a"])(a,t),Object(c["a"])(a,[{key:"ondataChange",value:function(t){t.main&&(this.wLink[1]=t.id,this.gLink[1]=t.name||t.coord.lat,this.gLink[2]=t.sys.country||t.coord.lon,this.temp=t.main.temp,"C"==this.metric&&this.convert())}},{key:"convert",value:function(){var t=this.data.main.temp;"F"==this.metric?(this.metric="C",this.temp=5/9*(t-32)):(this.metric="F",this.temp=t)}}]),a}(h["c"]);u["a"]([Object(h["b"])()],x.prototype,"data",void 0),u["a"]([Object(h["d"])("data",{deep:!0,immediate:!0})],x.prototype,"ondataChange",null),x=u["a"]([Object(h["a"])({components:{Forecast:j}})],x);var C=x,L=C,D=(e("fc7f"),Object(k["a"])(L,p,v,!1,null,"c72ba3da",null)),P=D.exports,E=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"map"}},[e("canvas",{ref:"canvas"}),e("div",{attrs:{id:"latlon"}}),t._m(0)])},M=[function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{attrs:{id:"worldMap"}},[n("img",{attrs:{src:e("32d1"),width:"500",alt:""}})])}],$=(e("a9e3"),e("b680"),e("cffa")),F=function(t){function a(){var t;return Object(r["a"])(this,a),t=Object(s["a"])(this,Object(l["a"])(a).apply(this,arguments)),t.lat=0,t.lon=0,t}return Object(d["a"])(a,t),Object(c["a"])(a,[{key:"onCoordChange",value:function(t){var a=this;this.lat=Number(t.lat.toFixed(2)),this.lon=Number(t.lon.toFixed(2)),this.$nextTick((function(){var t=a.can.width/2+a.lon*(360/a.can.width)*2,e=a.can.height/2-a.lat*(180/a.can.height)*2;$["a"].to(a,.4,{x:t,y:e})}))}},{key:"latChange",value:function(t){this.$emit("latCh",t)}},{key:"lonChange",value:function(t){this.$emit("lonCh",t)}},{key:"mounted",value:function(){var t=this;$["a"].ticker.add(this.draw),this.can=this.$refs.canvas,this.can.width=this.$el.clientWidth,this.can.height=this.$el.clientHeight,this.ctx=this.can.getContext("2d"),this.x=this.can.width/2,this.y=this.can.height/2,this.draw(),this.can.addEventListener("pointerup",(function(a){t.locked||(t.$emit("mapEvt",{lat:t.lat,lon:t.lon}),$["a"].to("#latlon",{opacity:0}),t.can.style.cursor="default")})),this.can.addEventListener("pointerdown",(function(a){if(!t.locked){t.$emit("mdEvt",a),$["a"].to("#latlon",{opacity:1});var e=a.offsetX,n=a.offsetY;t.x=e-t.can.width*Math.floor(e/t.can.width),t.y=n-t.can.height*Math.floor(n/t.can.height);var o=(t.x-t.can.width/2)/t.can.width*2*180,i=(t.y-t.can.height/2)/t.can.height*2*90*-1;t.lon=Number(o.toFixed(2)),t.lat=Number(i.toFixed(2)),t.draw()}})),this.can.addEventListener("pointermove",(function(a){a.preventDefault();var e=a.offsetX,n=a.offsetY;if(a.pressure&&!t.locked){t.$emit("mdEvt",a),t.can.setPointerCapture(a.pointerId),t.can.style.cursor="none",t.x=e-t.can.width*Math.floor(e/t.can.width),t.y=n-t.can.height*Math.floor(n/t.can.height);var o=(t.x-t.can.width/2)/t.can.width*2*180,i=(t.y-t.can.height/2)/t.can.height*2*90*-1;t.lon=Number(o.toFixed(2)),t.lat=Number(i.toFixed(2)),t.draw()}}))}},{key:"draw",value:function(){this.ctx.fillStyle="#F00",this.ctx.clearRect(0,0,this.can.width,this.can.height),this.ctx.fillRect(this.x,0,1,this.can.height),this.ctx.fillRect(0,this.y,this.can.width,1)}}]),a}(h["c"]);u["a"]([Object(h["b"])()],F.prototype,"data",void 0),u["a"]([Object(h["b"])()],F.prototype,"locked",void 0),u["a"]([Object(h["b"])()],F.prototype,"coords",void 0),u["a"]([Object(h["d"])("coords",{deep:!0,immediate:!0})],F.prototype,"onCoordChange",null),u["a"]([Object(h["d"])("lat")],F.prototype,"latChange",null),u["a"]([Object(h["d"])("lon")],F.prototype,"lonChange",null),F=u["a"]([h["a"]],F);var S=F,A=S,I=(e("9d34"),Object(k["a"])(A,E,M,!1,null,"23f66e81",null)),T=I.exports,N=function(t){function a(){var t;return Object(r["a"])(this,a),t=Object(s["a"])(this,Object(l["a"])(a).apply(this,arguments)),t.date=new Date,t.location="",t.locked=!1,t.coords={lat:0,lon:0},t.weatherData={},t.appID="3271837e9218269f1e7f49308577ec1c",t.error="",t.lat=0,t.lon=0,t}return Object(d["a"])(a,t),Object(c["a"])(a,[{key:"mounted",value:function(){var t=this;setInterval((function(){t.date=new Date}),1e3)}},{key:"pullTime",value:function(t){$["a"].to("#curLoc",.2,{padding:0}),$["a"].to("#locinput",.3,{autoAlpha:0})}},{key:"latEvt",value:function(t){$["a"].to("#curLoc",.6,{backgroundColor:"#333",color:"#FFF"}),this.lat=t}},{key:"lonEvt",value:function(t){this.lon=t}},{key:"reset",value:function(){var t=this;this.lat=0,this.lon=0,$["a"].to("#ww",.5,{opacity:0,onComplete:function(){t.weatherData={},t.location=""}}),$["a"].to("#curLoc span",.3,{opacity:0,onComplete:function(){$["a"].to("#curLoc span",.4,{opacity:1,delay:.2})}}),$["a"].to("#map",.3,{autoAlpha:1,display:"block"}),$["a"].to("#map canvas",.2,{opacity:1,delay:.5}),$["a"].to("#date",.3,{autoAlpha:1,display:"block",delay:.3}),$["a"].to("#widget",.5,{height:250}),$["a"].to("#locinput",.5,{autoAlpha:1,display:"block"}),this.locked=!1}},{key:"getBrowserLocation",value:function(){var t=this;navigator.geolocation.getCurrentPosition((function(a){t.getData("lat="+a.coords.latitude+"&lon="+a.coords.longitude)}))}},{key:"getMapLocation",value:function(t){this.getData("lat="+t.lat+"&lon="+t.lon)}},{key:"err_enter",value:function(t){var a=this;$["a"].from(t,.3,{opacity:0,onComplete:function(){t.innerHTML="Error: ".concat(a.error),setTimeout((function(){a.error="",t.innerHTML=""}),1e3)}})}},{key:"err_leave",value:function(t,a){$["a"].to(t,{opacity:0,onComplete:a})}},{key:"getData",value:function(t){var a=this,e="https://api.openweathermap.org/data/2.5/weather?"+t+"&APPID="+this.appID+"&units=imperial";y.a.get(e).then((function(t){a.coords=t.data.coord,a.locked=!0,$["a"].to("#curLoc",.2,{padding:10}),$["a"].to("#curLoc span",.3,{opacity:0,delay:.1,onComplete:function(){a.weatherData=t.data,$["a"].to("#curLoc",.3,{backgroundColor:"#DDD",color:"#000"}),$["a"].to("#curLoc span",.3,{opacity:1,delay:.3}),$["a"].to("#map",.3,{autoAlpha:0}),$["a"].to("#date",.3,{autoAlpha:0}),$["a"].to("#map canvas",.1,{opacity:0}),$["a"].to("#locinput",.5,{autoAlpha:0}),$["a"].to("#widget",.5,{height:190}),$["a"].fromTo("#ww",{opacity:0},{opacity:1})}})})).catch((function(t){a.error=t.response.data.message}))}}]),a}(h["c"]);N=u["a"]([Object(h["a"])({components:{WeatherWidget:P,Map:T}})],N);var W=N,H=W,R=(e("034f"),Object(k["a"])(H,o,i,!1,null,null,null)),Y=R.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(Y)}}).$mount("#app")},d023:function(t,a,e){},fc7f:function(t,a,e){"use strict";var n=e("2f6a"),o=e.n(n);o.a}});
//# sourceMappingURL=app.a45057eb.js.map